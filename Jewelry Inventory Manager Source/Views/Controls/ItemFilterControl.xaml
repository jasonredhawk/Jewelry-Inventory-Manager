<UserControl x:Class="Moonglow_DB.Views.Controls.ItemFilterControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="../../Styles/SharedStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>

    <Border Background="White" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="5" Padding="15" Margin="0,0,0,15">
        <StackPanel>
            <TextBlock Text="🔍 Filter Items" FontWeight="Bold" Margin="0,0,0,10" FontSize="14"/>
            
            <StackPanel>
                <!-- Search Text - Full Width -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                    <TextBlock Text="Search:" VerticalAlignment="Center" Width="60" FontWeight="SemiBold"/>
                    <TextBox x:Name="txtSearch" 
                             Width="Auto" 
                             MinWidth="400"
                             Height="30" 
                             Style="{StaticResource ModernTextBoxStyle}"
                             TextChanged="txtSearch_TextChanged"
                             ToolTip="Search by name, SKU, or description"/>
                </StackPanel>

                <!-- Filters - Vertical Stack for Better Space -->
                <StackPanel>
                    <!-- Category Filter -->
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <TextBlock Text="Category:" VerticalAlignment="Center" Width="70" FontWeight="SemiBold"/>
                        <ComboBox x:Name="cmbCategory" 
                                  Width="200" 
                                  Height="30"
                                  SelectionChanged="cmbCategory_SelectionChanged"
                                  ToolTip="Filter by category"/>
                    </StackPanel>

                    <!-- Location Filter (for stock filtering) -->
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <TextBlock Text="Location:" VerticalAlignment="Center" Width="70" FontWeight="SemiBold"/>
                        <ComboBox x:Name="cmbLocation" 
                                  Width="200" 
                                  Height="30"
                                  SelectionChanged="cmbLocation_SelectionChanged"
                                  ToolTip="Filter by location (for stock filtering)"/>
                    </StackPanel>

                    <!-- Bottom Row with Checkbox and Button -->
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                        <CheckBox x:Name="chkInStockOnly" 
                                  Content="In Stock Only" 
                                  VerticalAlignment="Center"
                                  Margin="0,0,20,0"
                                  Checked="chkInStockOnly_Changed"
                                  Unchecked="chkInStockOnly_Changed"
                                  ToolTip="Show only items with stock > 0"/>
                        
                        <Button x:Name="btnClearFilters"
                                Content="🗑️ Clear Filters" 
                                Style="{StaticResource ModernButtonStyle}"
                                Click="btnClearFilters_Click"
                                Width="120" Height="30"/>
                    </StackPanel>
                </StackPanel>
            </StackPanel>
        </StackPanel>
    </Border>
</UserControl> 